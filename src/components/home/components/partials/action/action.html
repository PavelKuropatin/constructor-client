<js-plumb-object class="action-state"
                 ng-click="vm.setActiveState(state)"
                 ng-style="{ 'left':state.x, 'top':state.y, 'box-shadow': '0 15px 35px' + state.color}"
                 state-object="state">
    <div class="action-input-container" layout="row">
        <md-icon>call_received</md-icon>
        <md-input-container ng-repeat="input in state.inputContainer">
            <label>{{input.label}}</label>
            <input ng-change="vm.countFunction(states,state)" ng-model="input.value"/>
        </md-input-container>
    </div>
    <h3 class="cursor-default">{{state.name}}</h3>
    <div class="action-input-container" layout="row">
        <md-icon>call_made</md-icon>
        <md-input-container ng-repeat="output in state.outputContainer">
            <label>{{output.label}}</label>
            <input ng-model="output.value"/>
        </md-input-container>
    </div>

    <js-plumb-endpoint anchor={{state.endpointStyle.sourceAnchor}}
                       class={{state.endpointStyle.sourceEndpoint}}
                       ng-repeat="endpoint in state.sources"
                       settings="(state.endpointStyle.sourceAnchor === CONSTANTS.ANCHOR.LEFT_MIDDLE || state.endpointStyle.sourceAnchor === CONSTANTS.ANCHOR.RIGHT_MIDDLE) ? vm.sourceEndpointStyle1 : vm.sourceEndpointStyle2"
                       uuid="{{endpoint.uuid}}">
        <js-plumb-connection ng-if="connection.is_visible"
                             ng-model="connection"
                             ng-repeat="connection in endpoint.connections"
                             state-objects="vm.diagram.states">
        </js-plumb-connection>
    </js-plumb-endpoint>
    <js-plumb-endpoint anchor={{state.endpointStyle.targetAnchor}}
                       class={{state.endpointStyle.targetEndpoint}}
                       ng-repeat="endpoint in state.targets"
                       settings="((state.endpointStyle.targetAnchor === CONSTANTS.ANCHOR.LEFT_MIDDLE || state.endpointStyle.targetAnchor === CONSTANTS.ANCHOR.RIGHT_MIDDLE) ? vm.targetEndpointStyle1 : vm.targetEndpointStyle2)"
                       uuid="{{endpoint.uuid}}"></js-plumb-endpoint>
</js-plumb-object>
