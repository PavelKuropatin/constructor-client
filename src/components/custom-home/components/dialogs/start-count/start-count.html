<md-card>
    <md-card-header>
        <md-card-header-text>
            <div class="title-text">{{ 'model.settings' | translate }}</div>
        </md-card-header-text>
    </md-card-header>
    <md-card-content>
        <md-select aria-label="source type" name="sourceType" ng-model="vm.selectedSourceType">
            <md-option ng-repeat="source in CONSTANTS.MODEL" ng-value="source">{{source | translate}}</md-option>
        </md-select>
        <div ng-switch="vm.selectedSourceType">
            <md-list ng-switch-when="Generator">
                <md-list-item>
                    <md-input-container>
                        <label>{{ 'model.interval' | translate }}</label>
                        <input ng-model="vm.modelSettings.interval"/>
                    </md-input-container>
                    <md-button ng-click="vm.addVariable()">+</md-button>
                </md-list-item>
                <md-list-item ng-repeat="(index, variable) in vm.modelSettings.vars">
                    <md-input-container>
                        <label>{{'model.generator.var_name' | translate }}</label>
                        <input ng-model="variable.valueName"/>
                    </md-input-container>
                    <md-input-container>
                        <label>{{'model.generator.var_start' | translate }}</label>
                        <input ng-model="variable.startValue"/>
                    </md-input-container>
                    <md-input-container>
                        <label>{{'model.generator.var_step' | translate }}</label>
                        <input ng-model="variable.stepValue"/>
                    </md-input-container>
                    <md-button ng-click="vm.deleteVariable(index)">-</md-button>
                </md-list-item>
            </md-list>
            <md-list ng-switch-when="Socket">
                <md-list-item>
                    <md-input-container>
                        <label>{{ 'model.socket.host' | translate }}</label>
                        <input ng-model="vm.modelSettings.host"/>
                    </md-input-container>
                    <md-input-container>
                        <label>{{ 'model.socket.port' | translate }}</label>
                        <input ng-model="vm.modelSettings.port"/>
                    </md-input-container>
                    <md-input-container>
                        <label>{{ 'model.interval' | translate }}</label>
                        <input ng-model="vm.modelSettings.interval"/>
                    </md-input-container>
                </md-list-item>
            </md-list>
        </div>
        <div>
            <md-checkbox flex ng-model="vm.storeHistory">
                {{ 'model.store_history' | translate }}
            </md-checkbox>
            <md-input-container ng-if="vm.storeHistory">
                <label>{{ 'model.interval' | translate }}</label>
                <input ng-model="vm.modelSettings.history_interval"/>
            </md-input-container>
        </div>
    </md-card-content>
    <md-input-container>
        <md-button ng-click="vm.apply()">
            {{'apply' | translate }}
        </md-button>
        <md-button ng-click="vm.hideDialog()">
            {{'close' | translate }}
        </md-button>
    </md-input-container>
</md-card>
